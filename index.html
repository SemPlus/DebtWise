<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DebtWise v1.2</title>

  <script>
    // Diagnostic Script v1.2
    window.onload = function () {
      console.log("DOM Loaded");
      const marker = document.getElementById('version-marker');
      if (marker) marker.style.opacity = '1';
    };

    window.onerror = function (m, u, l) {
      const e = "üõë ERROR: " + m + "\nFile: " + u + "\nLine: " + l;
      alert(e);
      const d = document.getElementById('debug');
      if (d) { d.style.display = 'block'; d.innerText += "\n" + e; }
      return false;
    };

    if (window.location.search.includes('killsw=true')) {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function (regs) {
          for (let r of regs) { r.unregister(); }
          alert("‚úÖ CACHE CLEARED! Reloading...");
          window.location.replace(window.location.pathname);
        });
      }
    }
  </script>

  <meta name="theme-color" content="#050510">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: #050510;
      color: #fff;
      margin: 0;
      font-family: sans-serif;
    }

    #version-marker {
      position: fixed;
      bottom: 10px;
      right: 10px;
      font-size: 10px;
      color: #555;
      opacity: 0;
      pointer-events: none;
      z-index: 9999;
    }
  </style>
</head>

<body>
  <div id="version-marker">BUILD_VER: 1.2.0</div>
  <div id="debug"
    style="display:none; background:#900; color:#fff; padding:15px; position:fixed; top:0; left:0; right:0; z-index:9999; font-family:monospace; font-size:12px; border-bottom:2px solid #fff;">
    ‚ö†Ô∏è INITIALIZATION FAILED:
  </div>
  <div id="root"></div>
  <script type="module" src="index.tsx"></script>
</body>

</html>